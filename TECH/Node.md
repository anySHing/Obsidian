# 면접 대비 질문 리스트

> node가 싱글 스레드인데도 여러가지 병렬 작업이 되는 이유를 알려주세요.

- Node.js는 싱글 스레드 이벤트 루프 기반의 비동기 I/O 모델을 사용한다.

1. 비동기 I/O:
	- Node.js는 비동기 I/O를 기본으로 지원한다. 따라서 파일 시스템 액세스, 네트워크 요청 등의 I/O 작업은 블로킹하지 않고 비동기적으로 처리된다. 이러한 작업은 백그라운드에서 수행되며, 작업 완료 시 콜백 함수가 호출되어 이벤트 루프에 의해 처리된다.
2. 이벤트 루프:
	- Node.js의 이벤트 루프는 단일 스레드에서 이벤트 처리를 관리한다. 이벤트 루프는 비동기 작업이 완료되었을 때 해당 작업을 처리하고 콜백 함수를 실행한다. 이를 통해 여러 개의 I/O 작업을 동시에 처리할 수 있다.
3. 논 블로킹 I/O:
	- Node.js는 논 블로킹 I/O 모델을 사용하여 여러 작업을 동시에 처리할 수 있다. 따라서 하나의 요청이 완료될 때 까지 기다리는 대신, 다른 작업을 처리할 수 있다. 이를 통해 CPU 자원을 효율적으로 활용할 수 있다.
4. Worker Threads: 
	- Node.js v10.5.0 버전부터 Worker Threads 기능이 도입되었다. 이를 사용하면 JavaScript를 사용하여 백그라운드에서 병렬 작업ㅇ르 수행할 수 있다. 이를 통해 CPU 집약적인 작업을 처리하는 동안 메인 이벤트 루프를 블로킹하지 않고 계속하여 다른 작업을 처리할 수 있다.

> CPU 부하가 큰 작업이 진행돼서 이벤트 루프에 묶여 서버가 멈추면 어떻게 해결해야하나요?

1. 비동기 작업 분리: CPU 집약적인 작업을 수행할 때는 이를 비동기적으로 처리하고, 이벤트 루프를 블로킹하지 않도록 한다. 이를 위해 Worker Threads나 클러스터링을 사용하여 작업을 백그라운드에서 병렬로 처리할 수 있다.
2. 작업 분할: 큰 작업을 여러 작은 작업으로 분할하여 처리하고, 각 작업이 완료될 때 마다 이벤트 루프에 반환하여 처리한다. 이를 통해 CPU 부하를 분산하고, 이벤트 루프가 블로킹되는 상황을 방지할 수 있다.
3. 큐 및 우선 순위 설정: 작업을 처리하는 큐를 사용하여 작업을 관리하고, 우선 순위를 설정하여 중요한 작업이 먼저 처리되도록 한다. 이를 통해 이벤트 루프가 블로킹되는 상황을 최소화활 수 있다.
4. 타임아웃 설정: CPU 부하가 큰 작업에 타임아웃을 설정하여 일정 시간동안 작업이 완료되지 않으면 작업을 중단하고 에러 처리할 수 있도록 한다. 이를 통해 서버의 응답성을 유지하고, 더 큰 문제를 방지할 수 있다.
5. 서버 확장 및 부하 분산: 서버를 확장하여 부하를 분산하고, 로드 밸런싱을 활용하여 열 ㅓ서버 간의 작업을 고르게 분배한다. 이를 통해 단일 서버의 부하가 높아지는 상황을 방지하고, 전체 시스템의 안정성을 유지할 수 있다.

> 