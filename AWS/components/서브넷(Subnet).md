- [[VPC(Virtual Private Cloud)|VPC]]의 하위 단위로 [[VPC(Virtual Private Cloud)|VPC]]에 할당된 IP를 더 작은 단위로 분할한 개념
- 하나의 서브넷은 하나의 [[가용 영역(Availability Zone)|가용 영역(AZ)]] 안에 위치
- CIDR Block Range로 IP 주소 지정

> AWS 서브넷의 IP 갯수

- AWS의 사용 가능 IP 숫자는 5개를 제외하고 계산
	- ex) 10.0.0.0/24 라면 8비트만 사용하는 것
		- 10.0.0.0: 네트워크 어드레스
		- 10.0.0.1: VPC Router
		- 10.0.0.2: DNS Server
		- 10.0.0.3: 미래에 사용을 위해 남겨둠
		- 10.0.0.255(마지막 번호): 네트워크 브로드캐스트 어드레스(단 브로드캐스트는 지원하지 않음)
		- 즉 총 사용 가능한 IP 갯수는 2^8 - 5 = 251

> 라우트 테이블(Route Table)

- 트래픽이 어디로 가야할 지 알려주는 이정표
- [[VPC(Virtual Private Cloud)|VPC]] 생성 시 기본으로 하나 제공

|  Destination  |         Target         |
|:-------------:|:----------------------:|
|  10.0.0.0/16  |         local          |
| 172.31.0.0/16 | pcx-112233445566778899 |
|   0.0.0.0/0   |      igw-3830de61      |

- 요청이 들어오게 되면 `Destination` 목록에서 가장 구체적인 것을 찾아서 매칭해서 알려준다
	- ex) 10.0.1.231, 10.0.2.18, 10.0.3.148의 주소가 있다면 10.0.0.0/16, 0.0.0.0/0 둘에게 해당이 되는데 여기서 /16이 더 구체적인 주소이므로 이쪽으로 매칭해준다.
	- ex) 171.32.2.125, 171.32.2.125, 171.31.16.251의 주소가 있다면 172.31.0.0/16, 0.0.0.0/0 둘에게 해당이 되는데 여기서 /16이 더 구체적인 주소이므로 이쪽으로 매칭해준다.
	- ex) 1.23.5.123, 8.8.8.8, 177.44.123.6의 주소가 있다면 0.0.0.0/0(모든 IP)외에 매칭되는 주소가 없으므로 이쪽으로 매칭해준다.

> 서브넷의 종류

- 퍼블릭 서브넷: 외부에서 인터넷을 통해 연결할 수 있는 서브넷
	- [[인터넷 게이트웨이(Internet Gateway)|인터넷 게이트웨이(IGW)]]를 통해 외부의 인터넷과 연결되어 있음
	- 안에 위치한 인스턴스에 퍼블릭 IP 부여 가능
	- 웹 서버, 애플리케이션 서버 등 유저에게 노출되어야 하는 인프라
- 프라이빗 서브넷: 외부에서 인터넷을 통해 연결할 수 없는 서브넷
	- 외부 인터넷으로 경로가 없음
	- 퍼블릭 IP 부여 불가능
	- 데이터베이스, 로직 서버 등 외부에 노출될 필요가 없는 인프라